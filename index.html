<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Generator</title>
    <!-- External stylesheet for page styling -->
    <link rel="stylesheet" href="styles.css">
</head>         

<body>
    <div class="container">
        <!-- App Title and Introduction -->
        <div class="header-row">
            <div>
                <h1>üìù Message Generator</h1>
                <p class="subtitle">Generate predefined messages from your prompts and customize them as needed</p>
            </div>
            <div class="header-actions">
                <button id="theme-toggle" aria-pressed="false" class="theme-toggle" type="button">üåô Dark</button>
            </div>
        </div>
        
        <!-- User Input Section -->
        <div class="input-section">
            <label for="prompt">Enter your prompt:</label>
            <div class="prompt-card" role="group" aria-label="Message prompt field">
                <input type="text" id="prompt" aria-label="Message prompt" placeholder="e.g., I want to send Diwali wishes to my customers">
                <button id="generate-btn" type="button" aria-label="Generate message">Generate</button>
            </div>
            <p class="input-hint">Tip: Be short and descriptive (occasion, recipient, wishes, tone). Press Enter to generate.</p>
        </div>
        
        <!-- Output Section (Hidden until a message is generated) -->
        <div class="output-section" id="output-section" style="display: none;">
            <h3>Generated Message:</h3>

            <!-- Auto-generated message display -->
            <div class="message-display" id="message-display" role="region" aria-live="polite"></div>

            <!-- User editable message box -->
            <label for="editable-message">Edit your message:</label>
            <textarea id="editable-message" rows="4" placeholder="Your generated message will appear here for editing..."></textarea>

            <!-- WhatsApp sending option -->
            <div class="whatsapp-section">
                <label for="whatsapp-number">WhatsApp Number (with country code):</label>
                <input type="tel" id="whatsapp-number" aria-label="WhatsApp number" placeholder="e.g., +91 9876543210 or +1 234 567 8900">
                <small class="number-help">üí° Include country code (e.g., +91 for India, +1 for US)</small>
            </div>

            <!-- Action buttons -->
            <div class="action-buttons">
                <button id="copy-btn" type="button">üìã Copy Message</button>
                <button id="whatsapp-btn" type="button" disabled>üí¨ Send to WhatsApp</button>
                <button id="regenerate-btn" type="button">üîÑ Generate Another</button>
            </div>
        </div>
        
        <!-- Example Prompts Section -->
        <div class="examples-section">
            <h3>Example Prompts:</h3>
            <div class="examples">
                <!-- Quick examples for autofill -->
                <span class="example-tag" onclick="fillPrompt('Good morning to the person whose smile always lights up the room.')">Sweet Morning Texts</span>
                <span class="example-tag" onclick="fillPrompt('I want to send Diwali wishes to my customers')">Diwali wishes</span>
                <span class="example-tag" onclick="fillPrompt('I need to send a birthday message to my friend')">Birthday message</span>
                <span class="example-tag" onclick="fillPrompt('I want to invite people to my wedding')">Wedding invitation</span>
                <span class="example-tag" onclick="fillPrompt('I need to send a thank you message to my clients')">Thank you note</span>
                <span class="example-tag" onclick="fillPrompt('I want to send Christmas greetings')">Christmas wishes</span>
                <span class="example-tag" onclick="fillPrompt('I need to send a business meeting reminder')">Meeting reminder</span>
            </div>
        </div>
        
        <!-- Bot Messaging Configuration Section -->
        <div class="api-config-section" id="api-config-section">
            <h3>ü§ñ Bot Messaging Configuration</h3>
            <p class="subtitle">Configure automated messaging services to send messages as a bot</p>
            
            <!-- Toggle for enabling/disabling bot mode -->
            <div class="toggle-container">
                <label class="toggle-label">
                    <input type="checkbox" id="enable-bot-mode">
                    <span class="toggle-text">Enable Bot Mode</span>
                </label>
                <span class="toggle-help">Switch to automated messaging mode</span>
            </div>
            
            <!-- Demo mode for testing without real API -->
            <div class="demo-mode-container">
                <label class="toggle-label">
                    <input type="checkbox" id="enable-demo-mode">
                    <span class="toggle-text">Demo Mode</span>
                </label>
                <span class="toggle-help">üß™ Test without real API credentials (simulates sending)</span>
            </div>
            
            <!-- Dynamic provider-specific configuration (hidden until bot mode is enabled) -->
            <div id="bot-config-options" class="bot-config-options" style="display: none;">
                
                <!-- Service provider selection -->
                <div class="select-container">
                    <label for="service-provider">Service Provider:</label>
                    <select id="service-provider" class="service-select">
                        <option value="">-- Select a Service --</option>
                        <option value="twilio">Twilio</option>
                        <option value="whatsapp-business">WhatsApp Business API</option>
                        <option value="360dialog">360dialog</option>
                        <option value="messagebird">MessageBird</option>
                        <option value="vonage">Vonage (Nexmo)</option>
                    </select>
                </div>
                
                <!-- API credentials input fields for different providers -->
                <div id="api-credentials" class="api-credentials">
                    
                    <!-- Twilio credentials -->
                    <div id="twilio-credentials" class="provider-credentials" style="display: none;">
                        <h4>Twilio Credentials</h4>
                        <div class="credential-input">
                            <label for="twilio-account-sid">Account SID:</label>
                            <input type="text" id="twilio-account-sid" placeholder="Enter your Twilio Account SID">
                        </div>
                        <div class="credential-input">
                            <label for="twilio-auth-token">Auth Token:</label>
                            <input type="password" id="twilio-auth-token" placeholder="Enter your Twilio Auth Token">
                        </div>
                        <div class="credential-input">
                            <label for="twilio-phone-number">Twilio WhatsApp Number:</label>
                            <input type="text" id="twilio-phone-number" placeholder="e.g., +14155238886">
                        </div>
                    </div>
                    
                    <!-- WhatsApp Business API credentials -->
                    <div id="whatsapp-business-credentials" class="provider-credentials" style="display: none;">
                        <h4>WhatsApp Business API Credentials</h4>
                        <div class="credential-input">
                            <label for="wa-phone-number-id">Phone Number ID:</label>
                            <input type="text" id="wa-phone-number-id" placeholder="Enter your Phone Number ID">
                        </div>
                        <div class="credential-input">
                            <label for="wa-access-token">Access Token:</label>
                            <input type="password" id="wa-access-token" placeholder="Enter your Access Token">
                        </div>
                        <div class="credential-input">
                            <label for="wa-business-account-id">Business Account ID:</label>
                            <input type="text" id="wa-business-account-id" placeholder="Enter your Business Account ID">
                        </div>
                    </div>
                    
                    <!-- 360dialog credentials -->
                    <div id="360dialog-credentials" class="provider-credentials" style="display: none;">
                        <h4>360dialog Credentials</h4>
                        <div class="credential-input">
                            <label for="360dialog-api-key">API Key:</label>
                            <input type="password" id="360dialog-api-key" placeholder="Enter your 360dialog API Key">
                        </div>
                        <div class="credential-input">
                            <label for="360dialog-phone-number">WhatsApp Number:</label>
                            <input type="text" id="360dialog-phone-number" placeholder="e.g., +14155551234">
                        </div>
                    </div>
                    
                    <!-- Additional providers can be added here -->
                </div>
                
                <!-- Bulk messaging options -->
                <div class="bulk-messaging">
                    <h4>Bulk Messaging</h4>
                    <div class="bulk-option">
                        <label for="recipient-list">Recipient Numbers (one per line):</label>
                        <textarea id="recipient-list" placeholder="Enter WhatsApp numbers with country code, one per line:
+91 9876543210
+1 2345678900
+44 7700900123"></textarea>
                    </div>
                    
                    <!-- Scheduling messages -->
                    <div class="scheduling-option">
                        <label for="schedule-message">Schedule Message:</label>
                        <div class="schedule-inputs">
                            <input type="checkbox" id="enable-scheduling">
                            <input type="datetime-local" id="schedule-datetime" disabled>
                        </div>
                    </div>
                    
                    <!-- Template selection -->
                    <div class="template-option">
                        <label for="message-template-type">Message Template Type:</label>
                        <select id="message-template-type">
                            <option value="custom">Custom Message</option>
                            <option value="template">Approved Template</option>
                        </select>
                    </div>
                    <div id="template-name-container" style="display: none;">
                        <label for="template-name">Template Name:</label>
                        <input type="text" id="template-name" placeholder="Enter approved template name">
                    </div>
                </div>
                
                <!-- Bot action buttons -->
                <div class="bot-action-buttons">
                    <button id="save-api-config-btn" class="config-btn">Save Configuration</button>
                    <button id="test-connection-btn" class="config-btn">Test Connection</button>
                    <button id="send-bot-message-btn" class="config-btn">Send via Bot</button>
                </div>
                
                <!-- Debug panel for developers -->
                <div class="debug-panel" id="debug-panel">
                    <h4>üîç Debug Information</h4>
                    <div class="debug-toggle">
                        <label>
                            <input type="checkbox" id="enable-debug-mode">
                            Show detailed debugging information
                        </label>
                    </div>
                    <div id="debug-output" class="debug-output" style="display: none;">
                        <pre id="debug-log"></pre>
                        <button id="clear-debug-btn" class="debug-btn">Clear Log</button>
                        <button id="download-debug-btn" class="debug-btn">Download Log</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer Note -->
        <div class="footer">
            <p>üí° Tip: Generated messages include placeholders like {name} that you can customize for each recipient</p>
        </div>
    </div>
    
    <!-- External script for functionality -->
    <script src="script.js"></script>
</body>
</html>
